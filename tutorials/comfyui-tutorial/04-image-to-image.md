---
layout: default
title: "Chapter 4: Image-to-Image & Inpainting"
parent: "ComfyUI Tutorial"
nav_order: 4
---

# Chapter 4: Image-to-Image & Inpainting

Transform existing images with ComfyUI's powerful image manipulation capabilities! This chapter covers image-to-image generation and inpainting techniques for precise image editing.

## Image-to-Image Fundamentals

### Loading and Preparing Images

```javascript
// Load image for processing
const LoadImageNode = {
  type: "LoadImage",
  properties: {
    image: "path/to/input/image.jpg",
    upload: "direct_upload"
  },
  outputs: ["IMAGE", "MASK"]
};

// Convert to latent space
const VAEEncodeNode = {
  type: "VAEEncode",
  properties: {},
  inputs: ["pixels", "vae"],
  outputs: ["LATENT"]
};
```

### Basic Image-to-Image Workflow

```javascript
// Complete img2img workflow
const img2imgWorkflow = {
  nodes: [
    { id: "1", type: "LoadImage" },
    { id: "2", type: "VAEEncode" },
    { id: "3", type: "CheckpointLoaderSimple" },
    { id: "4", type: "CLIPTextEncode", properties: { text: "enhance quality, add details" } },
    { id: "5", type: "CLIPTextEncode", properties: { text: "blurry, artifacts" } },
    { id: "6", type: "KSampler", properties: { denoise: 0.7 } },
    { id: "7", type: "VAEDecode" },
    { id: "8", type: "SaveImage" }
  ]
};
```

## Denoising Strength Control

### Understanding Denoise Parameter

```javascript
// Denoise strength guide
const denoiseGuide = {
  low: {
    range: "0.1-0.3",
    effect: "Minor changes, preserves original",
    useCase: "Subtle enhancements"
  },

  medium: {
    range: "0.4-0.6",
    effect: "Balanced transformation",
    useCase: "Style transfer, color correction"
  },

  high: {
    range: "0.7-0.9",
    effect: "Major transformation",
    useCase: "Complete restyling"
  }
};
```

## Inpainting Techniques

### Mask-Based Editing

```javascript
// Inpainting workflow
const inpaintingWorkflow = {
  nodes: [
    { id: "1", type: "LoadImage" },
    { id: "2", type: "LoadImage", properties: { image: "mask.png" } },
    { id: "3", type: "VAEEncode" },
    { id: "4", type: "SetLatentNoiseMask" },
    { id: "5", type: "KSampler" },
    { id: "6", type: "VAEDecode" },
    { id: "7", type: "SaveImage" }
  ]
};
```

### Mask Creation Methods

```javascript
// Different masking approaches
const maskingTechniques = {
  manual: "Draw mask manually in image editor",
  automatic: "Use AI segmentation models",
  color: "Select by color range",
  edge: "Detect edges for object removal"
};
```

## Advanced Image Manipulation

### Style Transfer

```javascript
// Apply artistic style to photograph
const styleTransfer = {
  prompt: "in the style of Vincent van Gogh, oil painting",
  denoise: 0.8,
  strength: 0.6
};
```

### Color Correction

```javascript
// Enhance colors and lighting
const colorEnhancement = {
  prompt: "vibrant colors, dramatic lighting, professional photography",
  denoise: 0.4
};
```

## Next Steps

Inpainting mastered! Next: ControlNet integration.

**Continue to [Chapter 5: ControlNet & Pose Control](05-controlnet-integration.md)**

---

*Generated by [AI Codebase Knowledge Builder](https://github.com/The-Pocket/Tutorial-Codebase-Knowledge)*
